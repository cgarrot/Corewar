.PHONY: all clean fclean re

NAME = corewar
CC = gcc
DEBUG = -g -fsanitize=address
FLAGS = -Wall -Wextra -g
INC = include/corewar.h
HEADER = include

#------------------------------------FILE--------------------------------------#

FILES = src/main\
		src/read_champs\
		src/utils\
		src/play_game\
		src/operande\
		src/debug\
		src/parser\
		src/ft_process1\
		src/error\
		src/jump\
		src/verif_endgame\
		src/check_cycle\
		src/op\
		src/verbose\
		src/operations/live_fct\
		src/operations/ld_fct\
		src/operations/st_fct\
		src/operations/add_fct\
		src/operations/sub_fct\
		src/operations/and_fct\
		src/operations/or_fct\
		src/operations/xor_fct\
		src/operations/zjmp_fct\
		src/operations/ldi_fct\
		src/operations/sti_fct\
		src/operations/fork_fct\
		src/operations/lld_fct\
		src/operations/lldi_fct\
		src/operations/lfork_fct\
		src/operations/aff_fct\
		src/visual_body\
		src/visual_keys\
		src/visual_update\
		src/visual_utils\

#----------------------------------COLOR---------------------------------------#

GREY='\x1b[30m'
RED='\x1b[34m'
GREEN='\x1b[32m'
YELLOW='\x1b[33m'
BLUE='\x1b[34m'
PURPLE='\x1b[35m'
CYAN='\x1b[36m'
W='\x1b[37m'

#----------------------------------SOURCE--------------------------------------#

SRC = $(addsuffix .c , $(FILES))

#----------------------------------OBJECT--------------------------------------#

OBJ = $(addsuffix .o , $(FILES))

#-----------------------------------RULE---------------------------------------#

all: $(NAME)

$(NAME): $(OBJ)
	@printf "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n"
	@printf "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n"
	@printf "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n"
	@printf "@@@@@@@@@@@@@,,,,,,,,,,,,,.@@@@@@/,,,,,,,,,,,/@@@@@@@,,,,,,,,,,,,,,,,,,@@@@@&,,,,,,,,,,,,,,,,,,*@@@@@@@@@\n"
	@printf "@@@@@@@@@@,,,,,,,,,,,,,,,,.@@@*,,,,,,,,,,,,,,,,,*@@@@,,,,,,,,(@@(,,,,,,,,@@@&,,,,,,,,,,,,,,,,,,*@@@@@@@@@\n"
	@printf "@@@@@@@@,,,,,,,,*@@@@@@@@@@@@,,,,,,,,(@@@(,,,,,,,,@@@,,,,,,@@@@@@@@,,,,,,@@@&,,,,,,,,,,,,,,,,,,/@@@@@@@@@\n"
	@printf "@@@@@@@*,,,,,,@@@@@@@@@@@@@@,,,,,,@@@@@@@@@@@,,,,,,@@,,,,,,@@@@@@@@,,,,,,,@@&,,,,,,,@@@@@@@@@@@@@@@@@@@@@\n"
	@printf "@@@@@@@*,,,,,,@@@@@@@@@@@@@@,,,,,,@@@@@@@@@@@,,,,,,@@,,,,,,@@@@@@@@,,,,,,,@@&,,,,,,,@@@@@@@@@@@@@@@@@@@@@\n"
	@printf "@@@@@@@*,,,,,,@@@@@@@@@@@@@@,,,,,,@@@@@@@@@@@,,,,,,@@,,,,,,@@@@@@@@,,,,,,,@@&,,,,,,,,,,,,,,(@@@@@@@@@@@@@\n"
	@printf "@@@@@@@.,,,,,@@@@@@@@@@@@@@#,,,,,,@@@@@@@@@@@,,,,,,@@,,,,,,,,,,,,,,,,,,,,@@@&,,,,,,,,,,,,,,(@@@@@@@@@@@@@\n"
	@printf "@@@@@@@(,,,,,,@@@@@@@@@@@@@@,,,,,,/@@@@@@@@@*,,,,,,@@,,,,,,,,,,,,,,,,@@@@@@@&,,,,,,,@@@@@@@@@@@@@@@@@@@@@\n"
	@printf "@@@@@@@@(,,,,,,,,,....,,,,,.,,,,,,,,,,,,,,,,,,,,,,,..,,,,,,,,@(,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(@@@@@@@\n"
	@printf "@@@@@@@@@@/,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,@@@@,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(@@@@@@@\n"
	@printf "@@@@@@@@@@@@@@/,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,@@@@@@*,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(@@@@@@@\n"
	@printf "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n"
	@printf "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n"
	@printf "@@@@@@@@@@@##########@@@@@@######@@@@@#####################@@@@@@@###############&@@@@@@@@@@@@@@@@@@@@@@@\n"
	@printf "@@@@@@@@@@@,,,,,,,,,,,@@@@,,,,,,,,@@@@,,,,,,,,,,,,,,,,,,,,,,@@@@@@,,,,,,,,,,,,,,,,,,,,@@@@@@@@@@@@@@@@@@@\n"
	@printf "@@@@@@@@@@@,,,,,,,,,,,*@@*,,,,,,,,.@@*,,,,,,,,,,,,,,,*,,,,,,,@@@@@,,,,,,,,,,,,,,,,,,,,,/@@@@@@@@@@@@@@@@@\n"
	@printf "@@@@@@@@@@@@@@@@,,,,,,,#@,,,,,,,,,,,@,,,,,,*@@,,,,,,,@@,,,,,,*@@@@,,,,,,,,@@@@@@@,,,,,,,@@@@@@@@@@@@@@@@@\n"
	@printf "@@@@@@@@@@@@@@@@@,,,,,,,,,,,,,,,,,,,,,,,,,,@@,,,,,,,@@@/,,,,,,(@@@,,,,,,,,,,,,,,,,,,,,,@@@@@@@@@@@@@@@@@@\n"
	@printf "@@@@@@@@@@@@@@@@@(,,,,,,,,,,,,,,,,,,,,,,,,#@.,,,,,,@@@@@,,,,,,,@@@,,,,,,,,,,,,,,,,,*@@@@@@@@@@@@@@@@@@@@@\n"
	@printf "@@@@@@@@@@@@@@@@@@*,,,,,,,,,,(@,,,,,,,,,,,@,,,,,,,,,,,,,,,,,,,,,@@,,,,,,,,(,,,,,,,,@@@@@@@@@@@@@@@@@@@@@@\n"
	@printf "@@@@@@@@@@@@@@@@@@@,,,,,,,,,,@@#,,,,,,,,,@/,,,,,,,,,,,,,,,,,,,,,,@,,,,,,,,@@@,,,,,,,,,,,,,,,,,,@@@@@@@@@@\n"
	@printf "@@@@@@@@@@@@@@@@@@@@,,,,,,,,@@@@*,,,,,,,/@,,,,,,,/@@@@@@@(,,,,,,,.,,,,,,,,@@@@@*,,,,,,,,,,,,,,,@@@@@@@@@@\n"
	@printf "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n"
	@printf "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n"
	@printf "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n"
	@printf "@@@@@           cgarrot              hmichel               maegaspa              seanseau            @@@@\n"
	@printf "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n"
	@make -C ../libft/
	@$(CC) $(FLAGS) $(SRC) -L. ../libft/libftprintf.a -o $(NAME) -lncurses

object/%.o: src/%.c
	@$(CC) $(FLAGS) -I $(HEADER) -o $@ -c $<

clean:
	@echo "\033[1m|---------------------------------|\033[0m"
	@echo "\033[1m|-------Supprimer les OBJECT------|\033[0m"
	@echo "\033[1m|---------------------------------|\033[0m"
	@rm -f $(OBJ)
	@make clean -C ../libft/

fclean: clean
	@echo "\n"
	@echo "\033[1m|---------------------------------------|\033[0m"
	@echo "\033[1m|-------Supprimer la libftprintf.a------|\033[0m"
	@echo "\033[1m|---------------------------------------|\033[0m"
	@rm -f $(NAME)
	@make fclean -C ../libft/

re: fclean all
